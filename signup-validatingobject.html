<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <title>Sign Up</title>
        <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="css/style.css">
    </head>

    <body> 
        
        
        <div class = 'header'>
            <div><img src = 'img/logo.png'></div>
        
        </div>
        
        
        <div class = 'content'>
          
            <div class= 'hspace'>
                <h2>Sign Up</h2>
                <p>Already have an account? <a href = 'login.html'>Log in!</a></p>
            </div>
            <div class='center'>
              
                <input type='text' id='fname' class='textbox' placeholder="first name" maxlength="30">
                <input type='text' id='lname' class='textbox' placeholder="last" maxlength="30">
                <input type='email' id='email' class='textbox' placeholder="email@example.com" maxlength="70">
                <input type='text' id='username' class='textbox' placeholder="username" maxlength="20">
                <input type='password' id='pw' class='textbox' placeholder="password" maxlength="20">
               
                <input type='password' id='pwRetype' class='textbox' placeholder="retype password">
                <input type='button' id='signup' class='buttons' value="Sign up!">
                <input type='button' id='fbbutton' class='buttons' value="Sign up with facebook">
            </div>
            
        </div>
        
        
        <div class = 'footer'>
        
        </div>
        
        
    <script src="js/buttons.js"></script>    
    <script>
        window.onload = function(){
            
            var signupbtn = document.getElementById('signup');
                var msgdiv = document.createElement('div');
            validation= {
                
                count:0,
                fname:document.getElementById('fname'),
                lname:document.getElementById('lname'),
                email:document.getElementById('email'),
                username:document.getElementById('username'),
                pw:document.getElementById('pw'),
                pwRetype:document.getElementById('pwRetype'),
                pwMatch:function(){
                    var myapi = this;
                     if(myapi.pw.value == myapi.pwRetype.value && myapi.pw.value != ""){
                        
                        console.log("THE PASSWORDS MATCH");
                         myapi.removeMsg();
                        
                    } else{
                      
                        console.log("THE PASSWORDS DO NOT MATCH");
                        myapi.showMsg();
                        msgdiv.innerHTML = "Your passwords do not match, please retype it again";
                       
                    }
                    
                },
                showMsg:function(){
                    var myapi = this;
                   
                    
                        document.body.appendChild(msgdiv);
                        msgdiv.id = 'msgdiv';
                        
                        msgdiv.style.backgroundColor = '#ffccee';
                        msgdiv.style.position = 'fixed';
                        msgdiv.style.top = '20%';
                        msgdiv.style.width = '80vw';
                        msgdiv.style.left = '10vw';
                        msgdiv.style.padding = '30px 10px ';
                        
                       
                    
                },
                removeMsg:function(){
                    var myapi = this;
                   
                    myapi.showMsg();
                    
                    document.body.removeChild(msgdiv);
                
                    
                },
                formcorrect:function(){
                    var myapi = this;
                    
                    myapi.showMsg();
                    msgdiv.innerHTML = "Thank you for signing up! Please confirm via email";
                }
                
                
                
                
            }
                
               
                signupbtn.onclick = function() {
                    

                
                    validation.pwMatch();
                    validation.formcorrect();
                    
                    
                    
                    
                                        

                    
                    
                    
                    //send stuff to database   
                }
                
                
                function pwMatch(){
                    
                    if(pw.value == pwRetype.value && pw.value != ""){
                        
                        console.log("THE PASSWORDS MATCH");
                        
                    } else{
                        
                        console.log("THE PASSWORDS DO NOT MATCH");
                        
                        var badmatchdiv = document.createElement('div');
                        document.body.appendChild(badmatchdiv);
                        
                        badmatchdiv.style.backgroundColor = '#ffccee';
                        badmatchdiv.style.position = 'fixed';
                        badmatchdiv.style.top = '20%';
                        badmatchdiv.style.width = '80vw';
                        badmatchdiv.style.left = '10vw';
                        badmatchdiv.style.padding = '30px 10px ';
                        
                        badmatchdiv.innerHTML = "Your passwords do not match, please retype them";
                        
                        
                        
                    }
                }
            
                function success(){
                        var tyDiv = document.createElement('div');

                        document.body.appendChild(tyDiv);
                        tyDiv.innerHTML = "<p>Hey " + fname.value + ", thank you for making an account! Please check your email for a confirmation link.</p>";
                        tyDiv.style.position = 'fixed';
                        tyDiv.style.top = '200px';
                        tyDiv.style.backgroundColor = '#C4FFe6';
                        tyDiv.style.width = '80vw';
                        tyDiv.style.left = '10vw';
                        tyDiv.style.padding = '30px 10px ';
                        tyDiv.style.boxShadow = "4px 4px 4px #666666";


                    }
            
          
        }
         
  
    </script>  
    </body>
</html>